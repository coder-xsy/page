<!doctype>
<html>

<head>
    <meta charset="utf-8">
    <meta name='author' content='coder-xsy'>
    <meta name='key' content='slide'>
    <title>signal_page</title>
    <script src='./js/jquery.js'></script>
    <link type='text/css' rel='stylesheet' href='./css/page.css'>
    <link type='text/css' rel='stylesheet' href='./css/log_reg.css'>
    <style type='text/css'>

    </style>
</head>

<body>
    <div class='top_head'>
        <div class='head_title'>
            <img src='./static/img/flower.png' alt='title'>
            <span class='cname'>xxx社团</span>
        </div>
        <div class='nav_line'>
            <span class='status' id='login'><b>登录</b></span>
            <span class='status' id='register'><b>注册</b></span>
        </div>
        <img class='head_img' src='./static/img/mei.png' width='20%' alt='flower'>
    </div>
    <div class='main_content'>
        <div class='slide'>
            <span class='slide_btn pre_btn'><img src='./static/img/left.png' width='100%'  alt='pre_img'></span>
            <img class='support_height' src='./static/img/img1.jpg'>
            <img class='wait_img pre_wait' src='./static/img/img1.jpg' alt='img1' title='imgno_0'>
            <img class='pre_img' src='./static/img/img2.jpg' alt='img2' title='imgno_1'>
            <img class='active_img' src='./static/img/img1.jpg' alt='img1' title='imgno_2'>
            <img class='next_img' src='./static/img/img2.jpg' alt='img2' title='imgno_3'>
            <img class='wait_img next_wait' src='./static/img/img1.jpg' alt='img1' title='imgno_4'>
            <img class='wait_img next_wait' src='./static/img/img2.jpg' alt='img2' title='imgno_5'>
            <span class='slide_btn next_btn'><img src='./static/img/right.png' width='100%' alt='next_img'></span>
        </div>
        <hr>
        <p class='title_head'><b>资产详情</b></p>
        <div class='money_tree'>
            <img class='tree tree_hide' src='./static/img/tree.png' alt='money_tree'>
            <img class='tree tree_show' src='./static/img/tree.png' alt='money_tree'>
            <div class='total'>
                <span id='income'><b>income:</b> 8000$</span>
                <span id='pure_in'><b>pure_income:</b> 100$</span>
                <span id='cost'><b>cost:</b> 7900$</span>
            </div>
            <span class='item_name inout_list'><b>收支表</b></span>
            <span class='item_name in'><b>收入</b></span>
            <span class='item_name out'><b>支出</b></span>

            <!-- <div class='item_list'> -->
            <table class='item_list' id='list' border='1px' frame='hsides' rules='all'>
                <tr>
                    <th>no</th>
                    <th>项目名称</th>
                    <th>时间</th>
                    <th>数额($)</th>
                    <th>经手人</th>
                </tr>
            </table>
            <!-- </div>-->

        </div>
    </div>

    <div class='bottom_foot'>
        <img class='footer_img' src='./static/img/meif.png' alt='img'>
        <img width='5%' class='footer_text' src='./static/img/flower.png'>
        <h2 class='footer_text'>理财管理公司</h2>
        <p>copyright2018</p>
    </div>


    <div class='register_page'>
        <form>
            <img class='close' id='reg_close' src='./static/img/close.png' alt='close'>
            <ul class='input_list'>
                <li><label for='reg_account'>用户名:</label><input id='reg_account' name='account' type='text' placeholder="3-8个字母或下划线"></li>  
                <li><label for='reg_name'>姓名:</label> <input id='reg_name' name='name' type='text'></li>
                <li><label for='reg_stu_no'>学号:</label> <input id='reg_stu_no' name='stu_no' type='text'></li>
                <li><label for='reg_college'>学院:</label> <input id='reg_college' name='college' type='text'></li>
                <li><label for='reg_phone'>电话:</label><input id='reg_phone' name='phone' type='text'></li>
                <li><label for='reg_password'>密码:</label> <input id='reg_password' name='password' type='password' placeholder="6-11个字符，不区分大小写"></li>
                <li><label for='reg_makesure_password'>确认密码:</label><input id='reg_makesure_password' name='makesure_password'
                        type='password'></li>
                <li><button id='register_btn' type='button'>注册</button></li>
            </ul>
        </form>
    </div>

    <div class='login_page'>
        <form>
            <img class='close' id='login_close' src='./static/img/close.png' alt='close'>
            <ul class='input_list'>
                <li><label for='log_account'>账号:</label><input id='log_account' name='account' type='text'></li>
                <li><label for='log_password'>密码:</label><input id='log_password' name='password' type='password'></li>
                <li><button id='login_btn' type='button'>登录</button></li>
            </ul>
        </form>
    </div>



    <script src='./js/page.js'>
       /* $(document).ready(function () {
            var no = 2;
            var action = false;

            var income = '8000',
                cost = '7900';

            $('#income').html('<b>income: </b>' + income + '$');
            $('#pure_in').html('<b>pure_income: </b>' + (income - cost) + '$');
            $('#cost').html('<b>cost: </b>' + cost + '$');

            var list = [{ item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'stuuudy', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' },
            { item_name: 'study', time: '2018.01.21', count: '2000', person_name: 'xdd' }];


            list.forEach(function (item, index, arr) {
                var dom = '<tr><td>' + (index + 1) + '</td>' + '<td>' + item.item_name + '</td>' + '<td>' + item.time + '</td><td>' + item.count + '</td><td>' + item.person_name + '</td></tr>';
                $('#list').append(dom);
            });




            function next() {
                if (!action) {
                    action = true;
                    var active_no = no;
                    var imgs = $('.slide').children().not('span').not('.support_height');
                    no = (no + 1) % imgs.length;
                    imgs.eq((active_no + imgs.length - 1) % imgs.length).animate({
                        left: '-20%'
                    }, 'slow', function () {
                        imgs.eq((active_no + imgs.length - 1) % imgs.length).removeClass().addClass('wait_img pre_wait');
                        imgs.eq((active_no + imgs.length - 1) % imgs.length).removeAttr('style');
                    });

                    imgs.eq(active_no).animate({
                        left: '5%',
                        width: '15%',
                        opacity: '0.4',
                        border: '1px solid #312f2f',
                        borderRadius: '3px',
                    }, 'slow', function () {
                        imgs.eq(active_no).removeClass().addClass('pre_img');
                        imgs.eq(active_no).removeAttr('style');
                    });


                    imgs.eq((active_no + imgs.length + 1) % imgs.length).animate({
                        left: '25%',
                        width: '50%',
                        opacity: '1',
                        border: '3px solid #312f2f',
                        borderRadius: '9px'
                    }, 'slow', function () {
                        imgs.eq((active_no + imgs.length + 1) % imgs.length).removeClass().addClass('active_img');
                        imgs.eq((active_no + imgs.length + 1) % imgs.length).removeAttr('style');

                    });
                    imgs.eq((active_no + imgs.length + 2) % imgs.length).animate({
                        right: '5%'
                    }, 'slow', function () {
                        imgs.eq((active_no + imgs.length + 2) % imgs.length).removeClass().addClass('next_img');
                        imgs.eq((active_no + imgs.length + 2) % imgs.length).removeAttr('style');
                        imgs.eq((active_no + imgs.length - 2) % imgs.length).removeClass().addClass('wait_img next_wait');
                        action = false;
                    })
                } else {

                }
            }


            $('.next_btn').click(next);

            /*   ***********************************************************************    */

            function pre() {
                if (!action) {
                    action = true;
                    var active_no = no;
                    var imgs = $('.slide').children().not('span').not('.support_height');
                    no = (no - 1 + imgs.length) % imgs.length;
                    imgs.eq((active_no + imgs.length + 1) % imgs.length).animate({
                        right: '-20%'
                    }, 'slow', function () {
                        imgs.eq((active_no + imgs.length + 1) % imgs.length).removeClass().addClass('wait_img next_wait');
                        imgs.eq((active_no + imgs.length + 1) % imgs.length).removeAttr('style');
                    });

                    imgs.eq(active_no).animate({
                        left: '80%',
                        width: '15%',
                        opacity: '0.4',
                        border: '1px solid #312f2f',
                        borderRadius: '3px',
                    }, 'slow', function () {
                        imgs.eq(active_no).removeClass().addClass('next_img');
                        imgs.eq(active_no).removeAttr('style');
                    });


                    imgs.eq((active_no + imgs.length - 1) % imgs.length).animate({
                        left: '25%',
                        width: '50%',
                        opacity: '1',
                        border: '3px solid #312f2f',
                        borderRadius: '9px'
                    }, 'slow', function () {
                        imgs.eq((active_no + imgs.length - 1) % imgs.length).removeClass().addClass('active_img');
                        imgs.eq((active_no + imgs.length - 1) % imgs.length).removeAttr('style');

                    });
                    imgs.eq((active_no + imgs.length - 2) % imgs.length).animate({
                        left: '5%'
                    }, 'slow', function () {
                        imgs.eq((active_no + imgs.length - 2) % imgs.length).removeClass().addClass('pre_img');
                        imgs.eq((active_no + imgs.length - 2) % imgs.length).removeAttr('style');
                        imgs.eq((active_no + imgs.length - 3) % imgs.length).removeClass().addClass('wait_img pre_wait');
                        imgs.eq((active_no + imgs.length - 3) % imgs.length).removeAttr('style')
                        action = false;
                    })
                } else {

                }
            }
            $('.pre_btn').click(pre);


            var slide_ani = null;
            /******************************************/
            $('.slide').mouseenter(function () {
                $('.slide_btn').css('visibility', 'visible');
                clearInterval(slide_ani);
            });
            $('.slide').mouseleave(function () {
                $('.slide_btn').css('visibility', 'hidden');
                slide_ani = setInterval(next, 5000);
            });


            $('#login').click(function () {
                $('.login_page').css('display', 'block');
                $('body').css('overflow', 'hidden');
            });

            $('#login_close').click(function () {
                $('.login_page').css('display', 'none');
                $('body').css('overflow', 'visible');
            })


            $('#register').click(function () {
                $('.register_page').css('display', 'block');
                $('body').css('overflow', 'hidden');
            });
            $('#reg_close').click(function () {
                $('.register_page').css('display', 'none');
                $('body').css('overflow', 'visible');
            });
            

            function test(id,reg){
                var re=new RegExp(reg,'i');
                var ele=$('#'+id);
                if(re.test(ele.val())){
                    ele.css('box-shadow','none');
                    return true;
                }else{
                    ele.css('box-shadow','0px 0px 2px 2px red');
                    return false;
                }
            }


            function reg_test(){
                var test_arr=new Array(7);
                $("#reg_account").blur(function(){
                    test_arr[0]=test("reg_account",'\\w{3,8}');
                });

                $('#reg_name').blur(function(){
                    test_arr[1]=test("reg_name",".+");
                });

                $("#reg_stu_no").blur(function(){
                    test_arr[2]=test("reg_stu_no","^[A-Z]\\d{9}$");
                });

                $("#reg_college").blur(function(){
                    test_arr[3]=test("reg_college",".+");
                });

                $("#reg_phone").blur(function(){
                    test_arr[4]=test("reg_phone","^[1]\\d{10}");
                });

                $("#reg_password").blur(function(){
                    test_arr[5]=test("reg_password","\\w{6,11}");
                    if(test_arr[5]){
                        var make_sure=$("#reg_makesure_password");
                        if(make_sure.val()){
                            if(make_sure.val()==$(this).val()){
                                make_sure.css('box-shadow','none');
                            }else{
                                test_arr[6]==false;
                                make_sure.css('box-shadow','0px 0px 2px 2px red');
                                make_sure.val("");
                                make_sure.attr("placeholder","密码不一致");
                            }

                        }else{

                        }
                    }
                });

                $("#reg_makesure_password").blur(function(){
                    test_arr[6]=($(this).val()==$("#reg_password").val());
                    if(test_arr[6]){
                        $(this).css('box-shadow','none');
                    }else{
                        $(this).css('box-shadow','0px 0px 2px 2px red');
                        $(this).val("");
                        $(this).attr("placeholder","密码不一致");
                    }

                });
            }

            reg_test();


        });*/
    </script>
</body>

</html>